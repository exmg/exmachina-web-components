import{_ as e,b as t,B as o,t as r,i as a,d as c,f as i,g as d,R as s,o as n,l,e as h,j as m,k as b,n as p,m as g,s as u,r as x,p as k,E as y,q as f,u as v,v as w}from"./exmg-grid-toolbar-combobox-baa33540.js";import{x as _,i as S,B as C,A as R,s as E}from"./lit-element-88bb347a.js";import"./exmg-grid-pagination-1f0cd0d8.js";import{A}from"./exmg-grid-smart-toolbar-81c2118a.js";import{F as T,S as F}from"./exmg-grid-toolbar-c5491d70.js";
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var z,B;const I=null!==(B=null===(z=window.ShadyDOM)||void 0===z?void 0:z.inUse)&&void 0!==B&&B;class q extends o{constructor(){super(...arguments),this.disabled=!1,this.containingForm=null,this.formDataListener=e=>{this.disabled||this.setFormData(e.formData)}}findFormElement(){if(!this.shadowRoot||I)return null;const e=this.getRootNode().querySelectorAll("form");for(const t of Array.from(e))if(t.contains(this))return t;return null}connectedCallback(){var e;super.connectedCallback(),this.containingForm=this.findFormElement(),null===(e=this.containingForm)||void 0===e||e.addEventListener("formdata",this.formDataListener)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this.containingForm)||void 0===e||e.removeEventListener("formdata",this.formDataListener),this.containingForm=null}click(){this.formElement&&!this.disabled&&(this.formElement.focus(),this.formElement.click())}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",(e=>{this.dispatchEvent(new Event("change",e))}))}}q.shadowRootOptions={mode:"open",delegatesFocus:!0},e([t({type:Boolean})],q.prototype,"disabled",void 0);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class O extends q{constructor(){super(...arguments),this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.name="",this.value="on",this.reducedTouchTarget=!1,this.animationClass="",this.shouldRenderRipple=!1,this.focused=!1,this.mdcFoundationClass=void 0,this.mdcFoundation=void 0,this.rippleElement=null,this.rippleHandlers=new s((()=>(this.shouldRenderRipple=!0,this.ripple.then((e=>this.rippleElement=e)),this.ripple)))}createAdapter(){return{}}update(e){const t=e.get("indeterminate"),o=e.get("checked"),r=e.get("disabled");if(void 0!==t||void 0!==o||void 0!==r){const e=this.calculateAnimationStateName(!!o,!!t,!!r),a=this.calculateAnimationStateName(this.checked,this.indeterminate,this.disabled);this.animationClass=`${e}-${a}`}super.update(e)}calculateAnimationStateName(e,t,o){return o?"disabled":t?"indeterminate":e?"checked":"unchecked"}renderRipple(){return this.shouldRenderRipple?this.renderRippleTemplate():""}renderRippleTemplate(){return _`<mwc-ripple
        .disabled="${this.disabled}"
        unbounded></mwc-ripple>`}render(){const e=this.indeterminate||this.checked,t={"mdc-checkbox--disabled":this.disabled,"mdc-checkbox--selected":e,"mdc-checkbox--touch":!this.reducedTouchTarget,"mdc-ripple-upgraded--background-focused":this.focused,"mdc-checkbox--anim-checked-indeterminate":"checked-indeterminate"==this.animationClass,"mdc-checkbox--anim-checked-unchecked":"checked-unchecked"==this.animationClass,"mdc-checkbox--anim-indeterminate-checked":"indeterminate-checked"==this.animationClass,"mdc-checkbox--anim-indeterminate-unchecked":"indeterminate-unchecked"==this.animationClass,"mdc-checkbox--anim-unchecked-checked":"unchecked-checked"==this.animationClass,"mdc-checkbox--anim-unchecked-indeterminate":"unchecked-indeterminate"==this.animationClass},o=this.indeterminate?"mixed":void 0;return _`
      <div class="mdc-checkbox mdc-checkbox--upgraded ${n(t)}">
        <input type="checkbox"
              class="mdc-checkbox__native-control"
              name="${l(this.name)}"
              aria-checked="${l(o)}"
              aria-label="${l(this.ariaLabel)}"
              aria-labelledby="${l(this.ariaLabelledBy)}"
              aria-describedby="${l(this.ariaDescribedBy)}"
              data-indeterminate="${this.indeterminate?"true":"false"}"
              ?disabled="${this.disabled}"
              .indeterminate="${this.indeterminate}"
              .checked="${this.checked}"
              .value="${this.value}"
              @change="${this.handleChange}"
              @focus="${this.handleFocus}"
              @blur="${this.handleBlur}"
              @mousedown="${this.handleRippleMouseDown}"
              @mouseenter="${this.handleRippleMouseEnter}"
              @mouseleave="${this.handleRippleMouseLeave}"
              @touchstart="${this.handleRippleTouchStart}"
              @touchend="${this.handleRippleDeactivate}"
              @touchcancel="${this.handleRippleDeactivate}">
        <div class="mdc-checkbox__background"
          @animationend="${this.resetAnimationClass}">
          <svg class="mdc-checkbox__checkmark"
              viewBox="0 0 24 24">
            <path class="mdc-checkbox__checkmark-path"
                  fill="none"
                  d="M1.73,12.91 8.1,19.28 22.79,4.59"></path>
          </svg>
          <div class="mdc-checkbox__mixedmark"></div>
        </div>
        ${this.renderRipple()}
      </div>`}setFormData(e){this.name&&this.checked&&e.append(this.name,this.value)}handleFocus(){this.focused=!0,this.handleRippleFocus()}handleBlur(){this.focused=!1,this.handleRippleBlur()}handleRippleMouseDown(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}handleChange(){this.checked=this.formElement.checked,this.indeterminate=this.formElement.indeterminate}resetAnimationClass(){this.animationClass=""}get isRippleActive(){var e;return(null===(e=this.rippleElement)||void 0===e?void 0:e.isActive)||!1}}e([a(".mdc-checkbox")],O.prototype,"mdcRoot",void 0),e([a("input")],O.prototype,"formElement",void 0),e([t({type:Boolean,reflect:!0})],O.prototype,"checked",void 0),e([t({type:Boolean})],O.prototype,"indeterminate",void 0),e([t({type:Boolean,reflect:!0})],O.prototype,"disabled",void 0),e([t({type:String,reflect:!0})],O.prototype,"name",void 0),e([t({type:String})],O.prototype,"value",void 0),e([c,t({type:String,attribute:"aria-label"})],O.prototype,"ariaLabel",void 0),e([c,t({type:String,attribute:"aria-labelledby"})],O.prototype,"ariaLabelledBy",void 0),e([c,t({type:String,attribute:"aria-describedby"})],O.prototype,"ariaDescribedBy",void 0),e([t({type:Boolean})],O.prototype,"reducedTouchTarget",void 0),e([r()],O.prototype,"animationClass",void 0),e([r()],O.prototype,"shouldRenderRipple",void 0),e([r()],O.prototype,"focused",void 0),e([i("mwc-ripple")],O.prototype,"ripple",void 0),e([d({passive:!0})],O.prototype,"handleRippleTouchStart",null);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */
const N=S`.mdc-checkbox{padding:calc((40px - 18px) / 2);padding:calc((var(--mdc-checkbox-ripple-size, 40px) - 18px) / 2);margin:calc((40px - 40px) / 2);margin:calc((var(--mdc-checkbox-touch-target-size, 40px) - 40px) / 2)}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-checkbox:hover .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-checkbox:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-checkbox .mdc-checkbox__background{top:calc((40px - 18px) / 2);top:calc((var(--mdc-checkbox-ripple-size, 40px) - 18px) / 2);left:calc((40px - 18px) / 2);left:calc((var(--mdc-checkbox-ripple-size, 40px) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((40px - 40px) / 2);top:calc((40px - var(--mdc-checkbox-touch-target-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((40px - var(--mdc-checkbox-touch-target-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((40px - var(--mdc-checkbox-touch-target-size, 40px)) / 2);width:40px;width:var(--mdc-checkbox-touch-target-size, 40px);height:40px;height:var(--mdc-checkbox-touch-target-size, 40px)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38))}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-ink-color, #fff)}.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:GrayText;border-color:var(--mdc-checkbox-disabled-color, GrayText);background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:GrayText;background-color:transparent;background-color:var(--mdc-checkbox-disabled-color, transparent)}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:GrayText;color:var(--mdc-checkbox-ink-color, GrayText)}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:GrayText;border-color:var(--mdc-checkbox-ink-color, GrayText)}.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:transparent;pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((48px - 40px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((40px - 48px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((40px - 48px) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((40px - 48px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:48px;width:var(--mdc-checkbox-state-layer-size, 48px);height:48px;height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}:host{outline:none;display:inline-flex;-webkit-tap-highlight-color:transparent}:host([checked]),:host([indeterminate]){--mdc-ripple-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox .mdc-checkbox__background::before{content:none}`
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let $=class extends O{};$.styles=[N],$=e([h("mwc-checkbox")],$);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const D=m(class extends b{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[t]){if(p(this.et)&&(!p(t)||this.et.strings!==t.strings)){const t=g(e).pop();let o=this.tt.get(this.et.strings);if(void 0===o){const e=document.createDocumentFragment();o=C(R,e),o.setConnected(!1),this.tt.set(this.et.strings,o)}u(o,[t]),x(o,void 0,t)}if(p(t)){if(!p(this.et)||this.et.strings!==t.strings){const o=this.tt.get(t.strings);if(void 0!==o){const t=g(o).pop();k(e),x(e,void 0,t),u(e,[t])}}this.et=t}else this.et=void 0;return this.render(t)}}),L={horizontal:{x:1,y:0},vertical:{x:0,y:1}};class j extends y{constructor(){super(),this.itemSelector="li",this.animationEnabled=!1,this.clonedClass="cloned",this.draggedClass="dragged",this.animationTiming={duration:200,easing:"ease-out"},this.dragRequestPending=!1,this.sortableNodes=[],this.animatedElements=[],this.initialScrollTop=0,this.handleTrack=this.handleTrack.bind(this)}connectedCallback(){super.connectedCallback(),f(this.getSortableHost(),"track",this.handleTrack)}disconnectedCallback(){v(this.getSortableHost(),"track",this.handleTrack),super.disconnectedCallback()}updated(e){e.has("sortableHostNode")&&(v(e.get("sortableHostNode")||this,"track",this.handleTrack),f(this.getSortableHost(),"track",this.handleTrack),this.sortableHostNode&&(this.sortableHostNode.style.position="relative"))}getSortableHost(){return this.sortableHostNode?this.sortableHostNode:this}handleTrack(e){switch(e.detail.state){case"start":this.dragRequestPending||this.trackStart(e);break;case"track":this.trackMove(e);break;case"end":this.animationPromise?this.animationPromise.then((()=>{setTimeout((()=>this.trackEnd()))})):setTimeout((()=>this.trackEnd()))}}trackStart(e){const t=this.handleSelector,o=(e.path?e.path:e.composedPath())[0];if(t&&!o.closest(t))return;this.updateUserSelectStyle("none"),this.dragRequestPending=!0;const r=this.itemSelector,a=o.closest(r);a&&(e.preventDefault(),this.draggedElement=a,this.sortableNodes=Array.from(this.getSortableHost().querySelectorAll(r))||[],this.draggedElementClone=this.createClone(a),this.draggedElementOrigin=a.nextSibling,this.animatedElements=[],this.draggedElement.classList.add(this.draggedClass))}trackEnd(){if(!this.draggedElement)return;const e=Array.from(this.getSortableHost().querySelectorAll(this.itemSelector)),t=this.sortableNodes.indexOf(this.draggedElement),o=e.indexOf(this.draggedElement);t!==o&&this.dispatchEvent(new CustomEvent("dom-order-change",{bubbles:!0,composed:!0,detail:{sourceIndex:t,targetIndex:o}})),this.reset(),this.dragRequestPending=!1,this.updateUserSelectStyle("text")}trackMove(e){if(e.preventDefault(),!this.draggedElementClone)return;let{dx:t,dy:o}=e.detail;const r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop);this.orientation&&(t*=L[this.orientation].x,o*=L[this.orientation].y),o-=this.initialScrollTop-r,Object.assign(this.draggedElementClone.style,{transform:`translate3d(${t}px, ${o}px, 0)`});const a=this.hitTest(this.draggedElementClone,this.sortableNodes)[0];a&&a!==this.draggedElement&&!this.isAnimating(a)&&this.insertAtTarget(this.draggedElement,a)}updateUserSelectStyle(e){this.style.userSelect=e,this.style.MozUserSelect=e,this.style.msUserSelect=e,this.style.webkitUserSelect=e}hitTest(e,t){const{left:o,top:r,width:a,height:c}=e.getBoundingClientRect(),i=o+a/2,d=r+c/2;return t.filter((e=>{const{left:t,right:o,top:r,bottom:a}=e.getBoundingClientRect();return!(i<t||i>o||d<r||d>a)}))}isAnimating(e){return-1!==this.animatedElements.indexOf(e)}reset(){void 0!==this.draggedElementClone&&null!==this.draggedElementClone.parentNode&&this.draggedElementClone.parentNode.removeChild(this.draggedElementClone),this.draggedElement&&this.draggedElement.parentNode&&this.draggedElementOrigin&&(this.draggedElement.classList.remove(this.draggedClass),this.draggedElement.parentNode.insertBefore(this.draggedElement,this.draggedElementOrigin)),delete this.draggedElementClone,delete this.draggedElement,this.sortableNodes=[],this.animatedElements=[],this.dragRequestPending=!1,this.updateUserSelectStyle("text")}animateNode(e,t=0,o=0){e.animate&&(this.animatedElements.push(e),Object.assign(e.style,{willChange:"transform"}),this.animationPromise=new Promise((r=>{e.animate([{transform:`translate3d(${t}px, ${o}px, 0)`},{transform:"none"}],this.animationTiming).addEventListener("finish",(()=>{const t=this.animatedElements.indexOf(e);Object.assign(e.style,{willChange:"initial"}),-1!==t&&this.animatedElements.splice(t,1),r(),delete this.animationPromise}))})))}insertAtTarget(e,t){let o=[];if(this.animationEnabled&&(o=this.sortableNodes.map((e=>({x:e.offsetLeft,y:e.offsetTop})))),e&&e.parentNode){const o=e.compareDocumentPosition(t)&this.DOCUMENT_POSITION_FOLLOWING?t.nextSibling:t;e.parentNode.insertBefore(e,o)}this.animationEnabled&&this.sortableNodes.forEach(((e,t)=>{const{x:r,y:a}=o[t],c=r-e.offsetLeft,i=a-e.offsetTop;0===c&&0===i||this.animateNode(e,c,i)}))}createClone(e){const t=e.cloneNode(!0);Array.from(t.children).forEach(((t,o)=>{const r=t,a=e.children.item(o);a&&(r.style.width=`${a.offsetWidth}px`)})),Object.keys(e).filter((e=>e.startsWith("__"))).forEach((o=>t[o]=e[o]));const{offsetLeft:o,offsetTop:r}=e;return this.initialScrollTop=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),Object.assign(t.style,{position:"absolute",left:`${o}px`,top:`${r}px`,willChange:"transform,opacity"}),t.classList.add(this.clonedClass),e.parentNode.appendChild(t)}render(){return _`
      <style>
        :host {
          position: relative;
          display: block;
        }
      </style>
      <slot></slot>
    `}}e([t({type:String,attribute:"handle-selector"})],j.prototype,"handleSelector",void 0),e([t({type:String,attribute:"item-selector"})],j.prototype,"itemSelector",void 0),e([t({type:Object})],j.prototype,"sortableHostNode",void 0),e([t({type:Boolean,attribute:"animation-enabled"})],j.prototype,"animationEnabled",void 0),e([t({type:String,attribute:"cloned-class"})],j.prototype,"clonedClass",void 0),e([t({type:String,attribute:"dragged-class"})],j.prototype,"draggedClass",void 0),e([t({type:Object,attribute:"animation-timing"})],j.prototype,"animationTiming",void 0),e([t({type:String})],j.prototype,"orientation",void 0);let M=class extends j{};M=e([h("exmg-sortable")],M);const H=S`:host{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-font-family, Roboto, sans-serif);--exmg-arrow-upward-url: url("/node_modules/@exmg/exmg-grid/assets/arrow-upward.svg");--exmg-table-card-width: var(--exmg-theme-table-card-width, 100%);--exmg-table-card-margin-bottom: var(--exmg-theme-table-card-margin-bottom, 5px);--exmg-table-color: var(--exmg-theme-table-on-surface, #02182b);--exmg-table-card-background-color: var(--exmg-theme-table-surface, #ffffff);--exmg-table-row-divider-color: var(--exmg-theme-table-row-divider-color, rgba(2, 24, 43, 0.14));--exmg-table-row-selected-color: var(--exmg-theme-table-row-selected-color, #02182b);--exmg-table-row-selected-background-color: var(--exmg-theme-table-row-selected-background-color, #eef4fa);--exmg-table-row-hover-color: var(--exmg-theme-table-row-hover-color, #02182b);--exmg-table-row-hover-background-color: var(--exmg-theme-table-row-hover-background-color, #f1f1f1);--exmg-table-row-dragged-background-color: var(--exmg-theme-table-row-dragged-background-color, #02182b);--exmg-table-rows-expanded-divider-border: var(--exmg-theme-table-rows-expanded-divider-border, none);--exmg-table-rows-expanded-border: var(--exmg-theme-table-rows-expanded-border, none);--exmg-table-rows-expanded-background-color: var(--exmg-theme-table-rows-expanded-background-color, #ffffff);--exmg-table-rows-expanded-color: var(--exmg-theme-table-rows-expanded-color, #02182b);--exmg-table-th-color: var(--exmg-theme-table-th-on-surface, #02182b);--exmg-table-th-background-color: var(--exmg-theme-table-th-surface, #ffffff);--exmg-table-th-sortable-hover-color: var(--exmg-theme-table-th-sortable-hover-color, #02182b);--exmg-table-columns-background-color: var(--exmg-theme-table-columns-background-color, #ffffff);--exmg-table-th-height: var(--exmg-theme-table-th-height, 48px);--exmg-table-th-sort-margin-left: var(--exmg-theme-table-th-sort-margin-left, 0px);--exmg-table-td-height: var(--exmg-theme-table-td-height, 48px);--exmg-table-th-sort-icon-height: var(--exmg-theme-table-th-sort-icon-height, 1em);--exmg-table-th-sort-icon-width: var(--exmg-theme-table-th-sort-icon-width, 1em);--exmg-table-col-number-padding-right: var(--exmg-theme-table-col-number-padding-right, 10px);--exmg-table-checkbox-cell-width: var(--exmg-theme-table-checkbox-cell-width, 24px);--exmg-table-toolbar-setting-position: var(--exmg-theme-table-toolbar-setting-position, absolute)}::slotted([slot=pagination]){display:flex;align-items:center;justify-content:flex-end;overflow-x:auto;border-top:1px solid var(--exmg-table-row-divider-color);border-bottom-left-radius:4px;border-bottom-right-radius:4px}::slotted([slot=toolbar]){border-top-left-radius:4px;border-top-right-radius:4px;display:block}.table-card-container{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-font-family, Roboto, sans-serif);border:none;width:var(--exmg-table-card-width);margin:0;padding:0;box-shadow:var(--exmg-theme-table-box-shadow, none)}:host([with-toolbar]) .table-card{border-top:1px solid var(--exmg-table-row-divider-color)}.table-card{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-font-family, Roboto, sans-serif);border:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px;width:var(--exmg-table-card-width);background-color:var(--exmg-table-card-background-color);margin-bottom:var(--exmg-table-card-margin-bottom)}.table-container{overflow-x:auto}table{width:100%;color:var(--exmg-table-color);border-spacing:0;border:none}table[data-table-layout=fixed]{table-layout:fixed}table[data-table-layout=fixed] td:not(.grid-checkbox-cell){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}table[data-table-layout=fixed] th.grid-checkbox-cell,table[data-table-layout=fixed] td.grid-checkbox-cell{width:var(--exmg-table-checkbox-cell-width)}table[data-table-layout=fixed] th.no-ellipsis,table[data-table-layout=fixed] td.no-ellipsis{text-overflow:initial}table thead tr,table thead th{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}table tbody tr,table tbody td,table tfoot tr,table tfoot td{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit)}td{height:var(--exmg-table-td-height)}.grid-toolbar th{padding:0;text-align:left}.grid-toolbar th>*{overflow-x:auto}.grid-columns th{height:var(--exmg-table-th-height);font-weight:500;font-style:normal;font-stretch:normal;text-transform:uppercase;line-height:1.33;letter-spacing:2px;color:var(--exmg-table-th-color);background-color:var(--exmg-table-th-background-color);vertical-align:middle;text-align:left;user-select:none;white-space:nowrap}.grid-columns th>span{vertical-align:middle;max-width:100%;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.grid-columns th svg{fill:var(--exmg-table-th-color)}.grid-columns th,tbody td{padding-left:16px}.grid-columns th:last-child,tbody td:last-child{padding-right:10px}th,td{border-top:1px solid var(--exmg-table-row-divider-color)}tbody td{height:var(--exmg-table-td-height);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.43px;letter-spacing:.3px;color:var(--exmg-table-color)}tbody td svg{fill:var(--exmg-table-color)}th[data-sort]{cursor:pointer}th[data-sort]:hover{color:var(--exmg-table-th-sortable-hover-color)}th[data-sort]::after{display:inline-block;content:"";-webkit-mask-image:var(--exmg-arrow-upward-url);mask-image:var(--exmg-arrow-upward-url);background-color:currentColor;background-size:contain;height:var(--exmg-table-th-sort-icon-height);width:var(--exmg-table-th-sort-icon-width);margin-left:var(--exmg-table-th-sort-margin-left);vertical-align:middle;opacity:0}th[data-sort-direction]::after{opacity:1;transition:transform .1s linear}th[data-sort-direction=ASC]::after{transform:rotate(0deg)}th[data-sort-direction=DESC]::after{transform:rotate(180deg)}tbody>tr:not(.grid-row-detail):hover{color:var(--exmg-table-row-hover-color);background-color:var(--exmg-table-row-hover-background-color)}tbody>tr:not(.grid-row-detail):hover td{color:var(--exmg-table-row-hover-color)}tbody>tr:not(.grid-row-detail):hover svg{fill:var(--exmg-table-row-hover-color)}tr[data-selected]{color:var(--exmg-table-row-selected-color);background-color:var(--exmg-table-row-selected-background-color)}tr[data-selected] td{color:var(--exmg-table-row-selected-color)}tr[data-selected] svg{fill:var(--exmg-table-row-selected-color)}tbody tr[data-has-expanded-detail],tbody tr[data-has-expanded-detail]:hover,tbody tr[data-is-row-expanded]{background-color:var(--exmg-table-rows-expanded-background-color);border:var(--exmg-table-rows-expanded-border)}tbody tr[data-has-expanded-detail] td,tbody tr[data-has-expanded-detail]:hover td,tbody tr[data-is-row-expanded] td{color:var(--exmg-table-rows-expanded-color)}tbody tr[data-has-expanded-detail] td svg,tbody tr[data-has-expanded-detail]:hover td svg,tbody tr[data-is-row-expanded] td svg{fill:var(--exmg-table-rows-expanded-color)}tbody tr[data-is-row-expanded] td{border-bottom:none}tbody tr[data-has-expanded-detail] td,tbody tr[data-has-expanded-detail]:hover td{border-bottom:var(--exmg-table-rows-expanded-divider-border)}tr.grid-row-detail{display:none}tr.grid-row-detail[data-is-row-expanded]{display:table-row}tr.grid-row-detail td{padding:20px}tr .grid-icon-rotate[data-is-expanded]>*{transition:transform .1s linear;transform:rotate(180deg)}tr .grid-icon-rotate[data-is-expandable]:not([data-is-expanded])>*{transition:transform .1s linear;transform:rotate(0deg)}.grid-row-drag-handler{cursor:move;vertical-align:middle}.grid-row-drag-handler>*{vertical-align:middle}tr.dragged{background-color:var(--exmg-table-row-dragged-background-color);opacity:.25;box-shadow:2px 2px 5px rgba(0,0,0,.5) inset}tr.cloned{background-color:var(--exmg-table-row-dragged-background-color);width:100%;box-sizing:border-box;box-shadow:2px 2px 5px rgba(0,0,0,.5);opacity:.9}tr td.grid-cell-visible-on-hover{text-align:center}tr td.grid-cell-visible-on-hover>*{visibility:hidden}tr:hover td.grid-cell-visible-on-hover>*,tr[data-has-expanded-detail] td.grid-cell-visible-on-hover>*{visibility:visible}tr td.grid-col-number,tr th.grid-col-number{padding-right:var(--exmg-table-col-number-padding-right);text-align:right}tr th.grid-col-number>span{width:100%}`,P=e=>{e.setAttribute("checked","checked"),e.removeAttribute("indeterminate"),e.checked=!0},U=e=>{e.removeAttribute("checked"),e.removeAttribute("indeterminate"),e.checked=!1},W=e=>{e.checked?e.setAttribute("checked","checked"):e.removeAttribute("checked")};class G{constructor(e,t,o,r){this.selectedRows=[],this.querySelectors=e,this.dispatchEvent=t,this.selectableCheckboxSelector=r,this.disableRowClickSelection=o}initFeature(e){const t=this.initAllCheckbox(),o=this.syncRowSelectionWithBodyCheckboxes();this.updateBodyRowsListeners(e),(t||o)&&this.fireSelectableRows()}updateFeature(e){this.updateBodyRowsListeners(e);const t=this.syncRowSelectionWithBodyCheckboxes();this.updateSelectAllCheckbox(),t&&this.fireSelectableRows()}syncSelectedItems(){this.syncRowSelectionWithBodyCheckboxes()&&this.fireSelectableRows()}fireSelectableRows(){this.dispatchEvent(new CustomEvent("exmg-grid-selected-rows-change",{bubbles:!0,composed:!0,detail:{rows:[...this.selectedRows]}}))}updateBodyRowsListeners(e){e.forEach((e=>{e.setAttribute("data-is-selectable",""),e.addEventListener("click",(t=>{const o=t.target;if(this.disableRowClickSelection&&"MWC-CHECKBOX"!==o.tagName&&"TR"!==o.tagName||"TR"!==o.tagName&&"TD"!==o.tagName&&"MWC-CHECKBOX"!==o.tagName)return;const r=this.selectedRows.indexOf(e),a=r>-1;a?(e.removeAttribute("data-selected"),this.selectedRows.splice(r,1)):(e.setAttribute("data-selected",""),this.selectedRows.push(e));const c=this.selectableCheckboxSelector&&e.querySelector(this.selectableCheckboxSelector);c&&c!==t.target?a?U(c):P(c):c&&W(c),this.updateSelectAllCheckbox(),this.fireSelectableRows()}))}))}initAllCheckbox(){let e=!1;return this.allCheckbox=this.selectableCheckboxSelector?this.querySelectors.getColumn(this.selectableCheckboxSelector):void 0,this.allCheckbox&&(this.allCheckbox.checked&&(this.handleAllCheckboxStateChange(),e=!0),this.allCheckbox.addEventListener("change",(()=>{W(this.allCheckbox),this.handleAllCheckboxStateChange(),this.fireSelectableRows()}))),e}syncRowSelectionWithBodyCheckboxes(){let e=!1;if(this.selectableCheckboxSelector){this.querySelectors.getTableBody().querySelectorAll(`tr[data-selected] ${this.selectableCheckboxSelector}:not([checked])`).forEach((t=>{const o=t.closest("tr");o&&(o.removeAttribute("data-selected"),e=!0)})),this.querySelectors.getTableBody().querySelectorAll(`tr:not([data-selected]) ${this.selectableCheckboxSelector}[checked]`).forEach((t=>{const o=t.closest("tr");o&&(o.setAttribute("data-selected",""),e=!0)}));const t=this.selectedRows.length;this.selectedRows=Array.from(this.querySelectors.getTableBody().querySelectorAll("tr[data-selected]")),t!==this.selectedRows.length&&(e=!0),this.allCheckbox&&!this.allCheckbox.checked&&this.selectedRows.length&&this.selectedRows.length===this.querySelectors.getBodyRows().length&&P(this.allCheckbox)}return e}getBodyCheckboxes(){return this.selectableCheckboxSelector?Array.from(this.querySelectors.getTableBody().querySelectorAll(this.selectableCheckboxSelector)):[]}handleAllCheckboxStateChange(){this.allCheckbox.checked?(this.allCheckbox.removeAttribute("indeterminate"),this.selectedRows=[],this.querySelectors.getBodyRows().forEach((e=>{e.setAttribute("data-selected",""),this.selectedRows.push(e)})),this.getBodyCheckboxes().forEach((e=>{P(e)}))):(this.allCheckbox.removeAttribute("indeterminate"),this.selectedRows=[],this.querySelectors.getTableBody().querySelectorAll("tr[data-selected]").forEach((e=>{e.removeAttribute("data-selected")})),this.getBodyCheckboxes().forEach((e=>{U(e)})))}updateSelectAllCheckbox(){const e=this.selectedRows.length;var t;this.allCheckbox&&(this.allCheckbox.checked||e!==this.querySelectors.getBodyRows().length?0===e?U(this.allCheckbox):e<this.querySelectors.getBodyRows().length&&((t=this.allCheckbox).removeAttribute("checked"),t.setAttribute("indeterminate","true"),t.checked=!0):P(this.allCheckbox))}}class X{constructor(e,t){this.table=e,this.tableBody=t}getTable(){if(!this.table)throw new Error("Element table not found. Slot hast to define <table>");return this.table}getTableBody(){if(!this.tableBody)throw new Error('Element tbody not found. Slot hast to define <tbody class="grid-data">');return this.tableBody}getColumns(e="th"){return this.getTable().querySelectorAll(`.grid-columns ${e}`)}getColumn(e="th"){return this.getTable().querySelector(`.grid-columns ${e}`)||void 0}getBodyRowSelector(e=""){return`tr:not(.grid-row-detail)${e}`}getBodyRows(){return this.getTableBody().querySelectorAll(this.getBodyRowSelector())}getBodyRowsNotInitialized(){return this.getTableBody().querySelectorAll(this.getBodyRowSelector(":not([data-initialized])"))}}class Q{constructor(e,t){this.querySelectors=e,this.expandableToggleSelector=t}initFeature(){this.querySelectors.getTableBody().querySelectorAll(`${this.expandableToggleSelector}:not([data-is-expandable])`).forEach((e=>{e.setAttribute("data-is-expandable",""),this.registerClickListener(e)}))}updateFeature(){this.initFeature()}registerClickListener(e){e.addEventListener("click",(t=>{const o=e.closest("tr"),r=o&&o.nextElementSibling;if(!o||!r)return;t.preventDefault(),t.stopPropagation();e.hasAttribute("data-is-expanded")?(e.removeAttribute("data-is-expanded"),r.removeAttribute("data-is-row-expanded"),o.removeAttribute("data-has-expanded-detail")):(e.setAttribute("data-is-expanded",""),r.setAttribute("data-is-row-expanded",""),o.setAttribute("data-has-expanded-detail",""))}))}}class V{constructor(e,t,o,r){this.querySelectors=e,this.dispatchEvent=t,this.defaultSortColumn=o,this.defaultSortDirection=r}initFeature(){this.querySelectors.getColumns("th[data-sort]").forEach((e=>{const t=e.getAttribute("data-sort")||e.getAttribute("data-column-key");this.defaultSortColumn&&this.defaultSortDirection&&this.defaultSortColumn===t&&e.setAttribute("data-sort-direction",this.defaultSortDirection),this.registerListeners(e,t)}))}registerListeners(e,t){e.addEventListener("click",(()=>{const o=e.getAttribute("data-sort-direction"),r="ASC"===o?"DESC":"DESC"===o?void 0:"ASC";this.querySelectors.getColumns("th[data-sort-direction=ASC], th[data-sort-direction=DESC]").forEach((t=>{t!==e&&t.removeAttribute("data-sort-direction")})),r?e.setAttribute("data-sort-direction",r):e.removeAttribute("data-sort-direction"),this.fireSortChanged(t,r)}))}fireSortChanged(e,t){this.dispatchEvent(new CustomEvent("exmg-grid-sort-change",{bubbles:!0,composed:!0,detail:{column:e,sortDirection:t||void 0}}))}}class Y{constructor(e){this.querySelectors=e}initFeature(){this.querySelectors.getTableBody().querySelectorAll("tr:not([data-initialized]) .grid-row-drag-handler, tr:not([data-initialized]).grid-row-drag-handler").forEach((e=>{this.registerMouseListenersHideDetailOnStartDragging(e)}))}updateFeature(){this.initFeature()}getRowDetailQuerySelectorFactory(e){const t=e.closest("tr"),o=t&&t.getAttribute("data-row-key");return o?()=>this.querySelectors.getTableBody().querySelector(`tr[data-row-detail-key="${o}"]`)||void 0:()=>{}}registerMouseListenersHideDetailOnStartDragging(e){const t=this.getRowDetailQuerySelectorFactory(e);e.closest("td")&&e.addEventListener("click",(e=>e.stopPropagation())),e.addEventListener("mousedown",(e=>{e.preventDefault();const o=t();if(o&&o.hasAttribute("data-is-row-expanded")){o.style.display="none";const e=()=>{const o=t();o&&o.hasAttribute("data-is-row-expanded")&&(o.style.display=null),this.querySelectors.getTableBody().removeEventListener("mouseup",e)};this.querySelectors.getTableBody().addEventListener("mouseup",e)}}))}}let J=class extends y{constructor(){super(...arguments),this.items=[],this.sortable=!1,this.rowsSortable=!1,this.rowsSelectable=!1,this.disableRowClickSelection=!1,this.hiddenColumnNames={},this.selectedRowIds={},this.expandedRowIds={},this.tableLayout="auto",this.withToolbar=!1,this.componentReady=!1}getQuerySelectors(){if(!this.querySelectors)throw new Error("ExmgQuerySelector not initialized yet");return this.querySelectors}getTable(){return this.getQuerySelectors().getTable()}getTableBody(){return this.getQuerySelectors().getTableBody()}findTableBody(){if(this.querySelectors)return this.getTableBody()||void 0}getColumns(e="th"){return this.getQuerySelectors().getColumns(e)}getBodyRowSelector(e=""){return this.getQuerySelectors().getBodyRowSelector(e)}canSortRows(){return!this.sortable&&this.rowsSortable}rowsOrderChange(e){setTimeout((()=>{const{sourceIndex:t,targetIndex:o}=e.detail,r=[...this.items],a=r[t];r.splice(t,1),r.splice(o,0,a),this.dispatchEvent(new CustomEvent("exmg-grid-rows-order-updated",{composed:!0,bubbles:!0,detail:{sourceIndex:t,targetIndex:o}})),this.dispatchEvent(new CustomEvent("exmg-grid-rows-order-changed",{composed:!0,bubbles:!0,detail:{items:r}}))}),0)}updateColumnVisibility(e={}){let t=0;this.getColumns().forEach(((o,r)=>{const a=o.getAttribute("data-column-key");if(t+=this.hiddenColumnNames[a||""]?0:1,a&&e[a]!==this.hiddenColumnNames[a]){const e=this.hiddenColumnNames[a]?"none":"table-cell";o.style.display=e,this.getTable().querySelectorAll(`tbody.grid-data tr:not(.grid-row-detail) td:nth-child(${r+1})`).forEach((t=>{t.style.display=e}))}})),this.updateAutoColspan(t)}updateAutoColspan(e){this.getTable().querySelectorAll("[data-auto-colspan]").forEach((t=>{const o=Number.parseInt(t.getAttribute("data-auto-span")||"0",10);t.setAttribute("colspan",(e-o).toString())}))}observeExpandedRowIds(e){e.has("expandedRowIds")&&Object.entries(this.expandedRowIds).forEach((([e,t])=>{const o=this.getTableBody().querySelector(this.getBodyRowSelector(`[data-row-key="${e}"] ${this.expandableToggleSelector}`));if(o){o.hasAttribute("data-is-expanded")!==t&&o.dispatchEvent(new MouseEvent("click"))}}))}observeSelectedRowIds(e){e.has("selectedRowIds")&&Object.entries(this.selectedRowIds).forEach((([e,t])=>{const o=this.getTableBody().querySelector(this.getBodyRowSelector(`[data-row-key="${e}"]`));if(o){o.hasAttribute("data-selected")!==t&&o.dispatchEvent(new MouseEvent("click"))}}))}observeItems(e){e.has("items")&&this.rowSelectableFeature&&this.rowSelectableFeature.syncSelectedItems()}async initGridAttributes(){await this.updateComplete;const e=this.shadowRoot.querySelector('slot[name="toolbar"]');e&&e.assignedNodes&&e.assignedNodes().length&&(this.withToolbar=this.withToolbar||!0)}async firstUpdated(){const e=this.shadowRoot.host.querySelector("table"),t=e.querySelector("tbody.grid-data");this.querySelectors=new X(e,t),this.initGridAttributes();const o=this.querySelectors.getBodyRows();this.sortable&&(this.columnSortableFeature=new V(this.querySelectors,(e=>this.dispatchEvent(e)),this.defaultSortColumn,this.defaultSortDirection),this.columnSortableFeature.initFeature()),this.canSortRows()&&(this.rowSortableFeature=new Y(this.querySelectors),this.rowSortableFeature.initFeature()),this.rowsSelectable&&(this.rowSelectableFeature=new G(this.querySelectors,(e=>this.dispatchEvent(e)),this.disableRowClickSelection,this.selectableCheckboxSelector),this.rowSelectableFeature.initFeature(o)),this.expandableToggleSelector&&(this.rowExpandableFeature=new Q(this.querySelectors,this.expandableToggleSelector),this.rowExpandableFeature.initFeature()),this.updateColumnVisibility(),o.forEach((e=>e.setAttribute("data-initialized",""))),this.querySelectors.getColumns("th:not([title])").forEach((e=>e.setAttribute("title",e.innerText))),this.querySelectors.getTable().setAttribute("data-table-layout",this.tableLayout),await this.updateComplete,this.componentReady=!0}updated(e){if((e.has("hiddenColumnNames")||e.has("items"))&&this.updateColumnVisibility(e.get("hiddenColumnNames")),this.observeItems(e),this.observeExpandedRowIds(e),this.observeSelectedRowIds(e),this.componentReady&&e.has("items")){const e=this.querySelectors.getBodyRowsNotInitialized();this.rowSelectableFeature&&this.rowSelectableFeature.updateFeature(e),this.rowExpandableFeature&&this.rowExpandableFeature.updateFeature(),this.rowSortableFeature&&this.rowSortableFeature.updateFeature(),e.forEach((e=>e.setAttribute("data-initialized","")))}}renderWithoutSortable(){return _` <slot></slot> `}renderWithSortable(){return _`
      <exmg-sortable
        orientation="${"vertical"}"
        animation-enabled
        item-selector="tbody.grid-data &gt; tr:not(.grid-row-detail)"
        handle-selector=".grid-row-drag-handler"
        .sortableHostNode="${this.findTableBody()}"
        @dom-order-change="${this.rowsOrderChange}"
      >
        <slot></slot>
      </exmg-sortable>
    `}render(){return _`
      <div class="table-card-container">
        <slot name="toolbar"></slot>
        <div class="table-card">
          <div class="table-container">
            ${D(this.canSortRows()?this.renderWithSortable():this.renderWithoutSortable())}
          </div>
          <slot name="pagination"></slot>
        </div>
      </div>
    `}};J.styles=[H],e([t({type:Array})],J.prototype,"items",void 0),e([t({type:Boolean,reflect:!0})],J.prototype,"sortable",void 0),e([t({type:String,attribute:"default-sort-column"})],J.prototype,"defaultSortColumn",void 0),e([t({type:String,attribute:"default-sort-direction"})],J.prototype,"defaultSortDirection",void 0),e([t({type:Boolean,reflect:!0,attribute:"rows-sortable"})],J.prototype,"rowsSortable",void 0),e([t({type:Boolean,attribute:"rows-selectable"})],J.prototype,"rowsSelectable",void 0),e([t({type:Boolean,attribute:"disable-row-click-selection"})],J.prototype,"disableRowClickSelection",void 0),e([t({type:String,attribute:"selectable-checkbox-selector"})],J.prototype,"selectableCheckboxSelector",void 0),e([t({type:Object})],J.prototype,"hiddenColumnNames",void 0),e([t({type:Object})],J.prototype,"selectedRowIds",void 0),e([t({type:Object})],J.prototype,"expandedRowIds",void 0),e([t({type:String,attribute:"expandable-toggle-selector",reflect:!0})],J.prototype,"expandableToggleSelector",void 0),e([t({type:String,attribute:"table-layout",reflect:!0})],J.prototype,"tableLayout",void 0),e([r()],J.prototype,"querySelectors",void 0),e([t({type:Boolean,reflect:!0,attribute:"data-with-toolbar"})],J.prototype,"withToolbar",void 0),J=e([h("exmg-grid")],J);let K=((e=50,t=1)=>{const o=()=>Number.parseFloat((1e3*Math.random()).toFixed(2)),r=[{id:1,month:"January",amount:o(),year:2e3,test:"1"},{id:2,month:"February",amount:o(),year:2e3,test:"1"},{id:3,month:"March",amount:o(),year:2e3,test:"1"}],a=[];let c=t-1;for(;a.length<e;){const e=r.map((e=>(c+=1,Object.assign(Object.assign({},e),{id:c,amount:o()}))));a.push(...e)}return a.slice(0,e)})(1e4),Z=[...K];const ee="amount",te="ASC",oe=(e,t)=>{const o=e*t,r=Math.min(o+t,Z.length);return Z.slice(o,r)};class re extends E{constructor(){super(),this.dark=!1,this.pageIndex=0,this.pageSize=10,this.searchValue=null,this.hiddenColumns={},this.selectedRows=[],this.expandedRowIds={},this.selectedRowIds={},this.theme="dark",this.actions=[{id:"export",text:"",tooltip:"Export",icon:"get_app",condition:{type:A.AmountOfSelectedItemsRange,min:1}},{id:"merge",text:"",tooltip:"Merge",icon:"merge_type",condition:{type:A.AmountOfSelectedItemsRange,min:2}},{id:"delete",text:"",tooltip:"Delete",icon:"delete",condition:{type:A.AmountOfSelectedItemsRange,min:1,max:10}}],this.searchProperties=["month","income"],this.filters=[{id:"month",name:"Month",config:{type:T.SingleSelect,data:[{id:"all",title:"All"},{id:"january",title:"January"},{id:"february",title:"February"},{id:"march",title:"March"}]}}],this.columns=[{id:"month",title:"Month",selected:!0},{id:"year",title:"Year",selected:!0},{id:"amount",title:"Amount",selected:!0}],this.sortItems(ee,"ASC"),this.items=oe(this.pageIndex,this.pageSize)}onActionExecuted(e){this.handleAction(e.detail.id)}onActionDelegate(e){return()=>this.handleAction(e)}handleAction(e){switch(e){case"delete":{const e=this.selectedRows.map((e=>e.getAttribute("data-row-key")));K=K.filter((({id:t})=>!e.includes(t.toString()))),Z=Z.filter((({id:t})=>!e.includes(t.toString()))),this.selectedRows=[],this.items=oe(this.pageIndex,this.pageSize);break}case"merge":{const e=this.selectedRows.map((e=>e.getAttribute("data-row-key"))),[t,...o]=e,r=K.filter((({id:t})=>e.includes(t.toString()))).reduce(((e,t)=>e?Object.assign(Object.assign({},e),{amount:e.amount+t.amount}):Object.assign({},t)),void 0);K=K.filter((({id:e})=>!o.includes(e.toString()))).map((e=>e.id.toString()===t?Object.assign({},r):e)),Z=Z.filter((({id:e})=>!o.includes(e.toString()))).map((e=>e.id.toString()===t?Object.assign({},r):e)),this.items=oe(this.pageIndex,this.pageSize);break}}}updateSearchItems(){const e=[];K.forEach((t=>{this.searchProperties.some((e=>{if(function(e){return"string"==typeof e}(t[e])){const o=t[e].toUpperCase(),r=(this.searchValue||"").toUpperCase();return-1!==o.indexOf(r)}return!1}))&&e.push(t)})),Z=[...e],this.pageIndex=0,this.items=oe(this.pageIndex,this.pageSize)}onSearchChanged(e){this.searchValue=e.detail.value,this.updateSearchItems()}onFilterChanged(e){const{id:t,value:o}=e.detail;this.handleFilterChanged(t,o)}onFilterChangedComboboxDelegate(e){return t=>{const o=t.detail.value;this.handleFilterChanged(e,o)}}handleFilterChanged(e,t){if("month"===("all"!==t?e:null))Z=K.filter((({month:e})=>e.toLowerCase()===t));else Z=[...K];this.pageIndex=0,this.items=oe(this.pageIndex,this.pageSize)}onSettingChanged(e){const{id:t,value:o}=e.detail;t===F.ColumnSelector&&(this.hiddenColumns=o.filter((e=>!e.selected)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t.id})),{}))}toggleMonthColumn(e){e.preventDefault();const t=this.hiddenColumns,{month:o}=t,r=w(t,["month"]);this.hiddenColumns=o?Object.assign({},r):Object.assign(Object.assign({},r),{month:"month"})}toggleYearColumn(e){e.preventDefault();const t=this.hiddenColumns,{year:o}=t,r=w(t,["year"]);this.hiddenColumns=o?Object.assign({},r):Object.assign(Object.assign({},r),{year:"year"})}refreshTable(){const e=[...this.items];this.items=[],setTimeout((()=>{this.items=e}))}createRowIdToStateMap(e,t=0,o=3){return this.items.slice(t,o).reduce(((t,o)=>Object.assign(Object.assign({},t),{[o.id.toString()]:e})),{})}collapseRow(e){this.expandedRowIds={[e]:!1}}expandFirstRows(){this.expandedRowIds=this.createRowIdToStateMap(!0)}collapseFirstRows(){this.expandedRowIds=this.createRowIdToStateMap(!1)}selectFirstRows(){this.selectedRowIds=this.createRowIdToStateMap(!0)}unSelectFirstRows(){this.selectedRowIds=this.createRowIdToStateMap(!1)}onRowsOrderChanged(e){this.items=[...e.detail.items]}onSelectedRowsChange(e){this.selectedRows=e.detail.rows}sortItems(e,t){if(t){const o="ASC"===t?1:-1;Z.sort(((t,r)=>{const a=t[e],c=r[e];return a>c?o:a<c?-1*o:0}))}else Z.sort((({id:e},{id:t})=>e>t?1:e<t?-1:0))}onSortChange(e){const{column:t,sortDirection:o}=e.detail;this.sortItems(t,o),this.pageIndex=0,this.items=oe(this.pageIndex,this.pageSize)}onPageChange(e){this.pageIndex=e.detail.page,this.items=oe(this.pageIndex,this.pageSize)}onPageSizeChange(e){this.pageIndex=0,this.pageSize=e.detail.pageSize,this.items=oe(this.pageIndex,this.pageSize)}getTotalCount(){return Z.length}}e([t({type:Array})],re.prototype,"items",void 0),e([t({type:Boolean})],re.prototype,"dark",void 0),e([r()],re.prototype,"pageIndex",void 0),e([r()],re.prototype,"pageSize",void 0),e([r()],re.prototype,"hiddenColumns",void 0),e([r()],re.prototype,"selectedRows",void 0),e([r()],re.prototype,"expandedRowIds",void 0),e([r()],re.prototype,"selectedRowIds",void 0),e([r()],re.prototype,"theme",void 0);export{ee as D,re as E,te as a,H as s};
